{
  "enabled": true,
  "name": "Development Server Status Check",
  "description": "Automatically checks the status of development servers and services when configuration files are modified, ensuring all services are running properly",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "docker-compose.yml",
      "package.json",
      "requirements.txt",
      "pyproject.toml",
      "Dockerfile",
      ".env",
      "app.py",
      "server.py",
      "dev_server.py",
      "prod_server.py"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "Check the status of all development servers and services in this workspace. Look for:\n\n1. **Docker Services**: Check if docker-compose services are running\n2. **Python Servers**: Verify Flask/FastAPI development servers are active\n3. **Node.js Services**: Check if npm/yarn dev servers are running\n4. **Database Connections**: Test database connectivity if applicable\n5. **Port Availability**: Ensure required ports are not blocked\n6. **Health Endpoints**: Test any /health or /status endpoints\n7. **Log Analysis**: Check recent logs for errors or warnings\n\nFor each service found, report:\n- Service name and type\n- Current status (running/stopped/error)\n- Port number and accessibility\n- Any error messages or warnings\n- Suggested actions if issues are found\n\nProvide a summary table of all services and their status, plus actionable recommendations for any issues discovered."
  }
}